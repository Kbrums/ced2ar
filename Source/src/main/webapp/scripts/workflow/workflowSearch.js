function workflowSpinner(){$("#workflowResults").html("<div id='workflowLoad'><i class='fa fa-spinner fa-spin'></i></div>"),$("#workflowLoad").css("display","bloc"),$("#workflowLoad").css("margin","1em auto"),$("#workflowLoad").css("text-align","center"),$("#workflowLoad").css("font-size","2em")}function searchListen(){$("#workflowSearch").keyup(function(){$("#workflowResults").empty();var r=$("#workflowSearch").val().trim();r.length>1&&r!=lastQuery?(workflowSpinner(),search(r)):$("#workflowResults").empty()})}function search(r){lastQuery=r,$.ajax({cache:!1,type:"GET",url:baseURI+"/prov/data/workflow?q="+r,complete:function(r){$("#workflowResults").empty();var a=JSON.parse(r.responseText).results[0].data;for(var e in a){var o=a[e].row,t=o[0],n=o[1],s=o[2],l="<a class='redrawLink' href='#"+t+"'>"+n+" ("+s+")</a>",i="<tr><td>"+l+"</td><tr/>";$("#workflowResults").append(i)}if(a.length<=0){var w="<em>Sorry, no matching nodes found</em>";$("#workflowResults").append(w)}graphReloadListen()}})}function graphReloadListen(){$(".redrawLink").unbind(),$("a.redrawLink").click(function(){var r=$(this).attr("href").substring(1);return $("#startingNode").val(r),redrawGraph(),!1}),$("button.redrawLink").click(function(){var r=$(this).val();return $("#startingNode").val(r),redrawGraph(),!1})}var lastQuery=null;$(document).ready(function(){baseURI=$("#meta_uri").html(),searchListen()});